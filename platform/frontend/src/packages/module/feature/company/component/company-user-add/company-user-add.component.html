<div class="d-flex flex-shrink-0 align-items-center p-3">
    <p class="mat-title flex-grow-1 text-one-line mouse-inactive" [vi-translate]="'general.add'"></p>
    <button class="flex-shrink-0 ms-2" mat-raised-button color="primary" [disabled]="!user" (click)="submit()">
        <span [vi-translate]="'general.open'"></span>
    </button>
</div>

<mat-progress-bar class="border flex-shrink-0" [mode]="isDisabled ? 'indeterminate' : 'determinate'"></mat-progress-bar>

<form class="flex-grow-1 px-3 pt-3 pb-2 row g-0 vertical-scroll-only" #form="ngForm">
    <div class="col-12">
        <mat-form-field class="d-block">
            <input
                #uidInput="ngModel"
                matInput
                name="uid"
                [(ngModel)]="uid"
                type="text"
                required
                [disabled]="isDisabled"
            />
            <button mat-icon-button matSuffix (click)="load()" [disabled]="isDisabled || uidInput.errors">
                <span class="fas fa-arrow-alt-circle-down"></span>
            </button>
            <mat-placeholder [vi-translate]="'user.uid'"></mat-placeholder>
            <mat-error *ngIf="!(uidInput.valid || !uidInput.touched)" [innerHTML]="uidInput.errors | viNgModelError"></mat-error>
        </mat-form-field>
    </div>

    <div class="col-12">
        <mat-form-field class="d-block">
            <input matInput name="name" [value]="user?.preferences.name | viPrettify" disabled />
            <mat-placeholder [vi-translate]="'user.preferences.name'"></mat-placeholder>
        </mat-form-field>
    </div>

</form>
